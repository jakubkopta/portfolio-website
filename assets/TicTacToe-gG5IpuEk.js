import{r as c,j as e,d as m}from"./index-dsoJ6pqS.js";import{j as p}from"./index-5tVyPUrf.js";import{V as D}from"./Games-QPjeOSkb.js";import"./index-m50VVvnQ.js";const A=({handlePlayClose:u,isDarkMode:f})=>{var w,v,k,S,$,z,C,P,T;const[r,X]=c.useState(!0),[n,j]=c.useState(0),[l,g]=c.useState(["","","","","","","","",""]),[E,b]=c.useState(0),[O,h]=c.useState(0),[i,y]=c.useState(-1),R=t=>{var a;if(!l[t]&&!((a=s())!=null&&a.winner)){const o=[...l];o[t]=n%2===0?"O":"X",g(o),j(n+1)}},N=()=>{g(["","","","","","","","",""]),j(0),X(!r),y(-1)},W=()=>{b(0),h(0)},s=c.useCallback(()=>{const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let a=0;a<t.length;a++){const o=t[a],[x,d,L]=o;if(l[x]&&l[x]===l[d]&&l[x]===l[L])return{winner:l[x],index:a}}return null},[l]);return c.useEffect(()=>{var o,x;const t=(o=s())==null?void 0:o.winner,a=(x=s())==null?void 0:x.index;t&&a!==void 0&&(y(a),t==="O"&&r||t==="X"&&!r?b(d=>d+1):h(d=>d+1))},[s,l,r]),e.jsxs("div",{className:`${f?"bg-dark-mode":"bg-gray-200"} shadow-2xl rounded-3xl m-1 mt-5 md:m-28 relative group`,children:[e.jsxs("div",{className:`${(w=s())!=null&&w.winner||n>8?"scale-100 opacity-100 delay-500":"scale-0 opacity-0"} duration-500 ${f?"bg-dark-mode/90":"bg-gray-200/90"} rounded-3xl flex flex-col justify-center items-center absolute inset-0 z-[100]`,children:[n>8&&!((v=s())!=null&&v.winner)?e.jsx("span",{className:"text-6xl font-bold",children:"Draw"}):e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("span",{className:"text-6xl font-bold text-pink-500 animate-bounce",children:((k=s())==null?void 0:k.winner)==="X"?e.jsx(m,{size:130,className:"text-pink-500"}):e.jsx(p,{size:100,className:"text-blue-500"})}),e.jsxs("span",{className:"text-6xl font-bold",children:[((S=s())==null?void 0:S.winner)==="O"&&r||(($=s())==null?void 0:$.winner)==="X"&&!r?"Player 1":"Player 2"," Win!"]})]}),e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx("button",{onClick:N,className:"m-5 bg-gray-400 rounded-lg p-2",children:e.jsx(D,{size:30})}),e.jsx("button",{onClick:u,className:"font-bold text-3xl bg-gray-400 rounded-lg p-2",children:"Exit"})]})]}),e.jsxs("a",{className:"flex justify-center items-center",children:[e.jsx("p",{onClick:()=>{N(),W()},className:"cursor-pointer absolute top-3 right-10 hover:-rotate-90 duration-300",children:e.jsx(D,{size:23})}),e.jsx("p",{onClick:u,className:"cursor-pointer absolute top-2 right-2 hover:rotate-90 duration-300",children:e.jsx(m,{size:30})})]}),e.jsx("h1",{className:"text-4xl font-bold text-center m-5",children:"Tic Tac Toe"}),e.jsxs("h2",{className:"flex justify-center gap-16 md:gap-20 text-xl font-bold text-center",children:["Player 1",e.jsxs("span",{className:"font-extrabold text-2xl",children:[E," : ",O]}),"   Player 2"]}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-evenly items-center",children:[e.jsxs("div",{className:`flex lg:flex-col justify-center items-center 
                        ${r?n%2===0&&!((C=s())!=null&&C.winner)?"scale-100 opacity-100":"scale-0 opacity-0":n%2!==0&&!((z=s())!=null&&z.winner)?"scale-100 opacity-100":"scale-0 opacity-0"} duration-300`,children:[r?e.jsx(p,{size:100,className:"p-4 text-blue-500"}):e.jsx(m,{size:100,className:"text-pink-500"}),e.jsx("span",{className:"text-3xl font-bold",children:"Player 1"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:m-5 relative",children:[e.jsx("div",{className:`${i===0?"w-full":"w-0"} absolute top-[52px] md:top-[60px] h-[8px] bg-gray-950 duration-500`}),e.jsx("div",{className:`${i===1?"w-full":"w-0"} absolute top-[172px] md:top-[196px] h-[8px] bg-gray-950 duration-500`}),e.jsx("div",{className:`${i===2?"w-full":"w-0"} absolute bottom-[52px] md:bottom-[60px] h-[8px] bg-gray-950 duration-500`}),e.jsx("div",{className:`${i===3?"h-full":"h-0"} absolute left-[52px] md:left-[60px] w-[8px] bg-gray-950 duration-500`}),e.jsx("div",{className:`${i===4?"h-full":"h-0"} absolute left-[172px] md:left-[196px] w-[8px] bg-gray-950 duration-500`}),e.jsx("div",{className:`${i===5?"h-full":"h-0"} absolute right-[52px] md:right-[60px] w-[8px] bg-gray-950 duration-500`}),e.jsx("div",{className:`${i===6?"w-[489px] md:w-[557px]":"w-0"} absolute top-0 left-[6px] h-[8px] bg-gray-950 rotate-45 origin-top-left rounded-2xl duration-500`}),e.jsx("div",{className:`${i===7?"w-[489px] md:w-[557px]":"w-0"} absolute top-0 right-[6px] h-[8px] bg-gray-950 -rotate-45 origin-top-right rounded-2xl duration-500`}),l.map((t,a)=>e.jsx("div",{onClick:()=>R(a),className:"bg-gray-400 h-28 md:h-32 w-28 md:w-32 rounded-xl cursor-pointer flex justify-center items-center",children:t==="X"?e.jsx(m,{size:130,className:"text-pink-500"}):t==="O"?e.jsx(p,{size:130,className:"p-4 text-blue-500"}):""},a))]}),e.jsxs("div",{className:`flex lg:flex-col justify-center items-center 
                        ${r?n%2!==0&&!((P=s())!=null&&P.winner)?"scale-100 opacity-100":"scale-0 opacity-0":n%2===0&&!((T=s())!=null&&T.winner)?"scale-100 opacity-100":"scale-0 opacity-0"} duration-300`,children:[r?e.jsx(m,{size:100,className:"text-pink-500"}):e.jsx(p,{size:100,className:"p-4 text-blue-500"}),e.jsx("span",{className:"text-3xl font-bold",children:"Player 2"})]})]})]})};export{A as default};
